@page "/summarize"

@using Euro_2024_Management_System.Shared.Models
@using Microsoft.AspNetCore.Authorization
@using Microsoft.AspNetCore.Identity
@inject HttpClient Http
@attribute [Authorize]
<h3>Summarize</h3>

<button class="btn btn-primary" @onclick="SummarizeBets">Podsumuj</button>

<span>@(state ? "Zakończono aktualizację" : "Zaktualizuj")</span>

@code {
    private bool state = false;

    private async Task SummarizeBets()
    {
        state = false;
        var response = await Http.PostAsync("api/bet/summarize", null);

        if (response.IsSuccessStatusCode)
        {
            state = true;
        }
    }
}


@* Ten widok służy do podsumowywania zakładów - > dodawania punktów graczom *@